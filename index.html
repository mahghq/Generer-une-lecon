
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Créer ma leçon MAHG</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    label { font-weight: bold; display: block; margin-top: 20px; }
    select, input[type="text"] { width: 100%; margin-bottom: 5px; }
    #zoneMessage { border: 1px solid #ccc; padding: 15px; margin-top: 30px; background: #f9f9f9; }
  </style>
</head>
<body>

  <h1>Créer ma leçon MAHG</h1>

  <label>Choisir une leçon</label>
  <select id="selectLecon" onchange="updateAll()">
    <option value="">Sélectionner une leçon</option>
    <option value="https://media.publicationsports.com/509/1f063ee3-1665-6c68-a685-0242ac120003">Plan EM - MAHG 1 - Leçon 1</option>
    <option value="https://media.publicationsports.com/509/1f063ee5-8296-634a-a0b3-0242ac120003">Plan EM - MAHG 1 - Leçon 2</option>
    <option value="https://media.publicationsports.com/509/1f063ee6-30a1-6c50-921a-0242ac120003">Plan EM - MAHG 1 - Leçon 3</option>
    <option value="https://media.publicationsports.com/509/1f063ee6-c8bb-6004-ab64-0242ac120003">Plan EM - MAHG 1 - Leçon 4</option>
  </select>
  <p id="lienLecon"></p>

  <!-- Ateliers 1 à 5 -->
  <div id="ateliers"></div>

  <!-- Section gardiens -->
  <label>Gardiens de but – Noms des entraîneurs</label>
  <input type="text" id="nomsGB" oninput="updateAll()">
  <select id="exerciceGB" onchange="updateAll()">
    <option value="">Sélectionner un exercice</option>
    <option value="https://media.publicationsports.com/509/1f063ea6-4239-6502-ac15-0242ac120003">GB - Leçon 1</option>
    <option value="https://media.publicationsports.com/509/1f063ea7-0236-65da-b109-0242ac120003">GB - Leçon 2</option>
    <option value="https://media.publicationsports.com/509/1f063ea7-9291-64ea-bb9a-0242ac120003">GB - Leçon 3</option>
    <option value="https://media.publicationsports.com/509/1f063ea8-27f6-6d6e-bd47-0242ac120003">GB - Leçon 4</option>
  </select>
  <p id="lienExerciceGB"></p>

  <!-- Message généré -->
  <div id="zoneMessage"></div>

  <script>
    const exercicesOptions = `
<option value="https://media.publicationsports.com/509/1f060da4-46be-625e-bbbb-0242ac120003">#00-Eval - Exercice d’évaluation MAHG 0</option>
<option value="https://media.publicationsports.com/509/1f060da6-f28b-6c2e-9315-0242ac120003">#01-Eval - Évaluation MAHG 1</option>
<option value="https://media.publicationsports.com/509/1f060da7-a46c-675c-9ad4-0242ac120003">#02-Eval - Évaluation MAHG 2</option>
`;

    for (let i = 1; i <= 5; i++) {
      const container = document.getElementById("ateliers");
      const section = document.createElement("div");
      section.innerHTML = `
        <label>Atelier ${i} – Noms des entraîneurs</label>
        <input type="text" id="noms${i}" oninput="updateAll()">
        <select id="exercice${i}" onchange="updateAll()">
          <option value="">Sélectionner un exercice</option>
          ${exercicesOptions}
        </select>
        <p id="lienExercice${i}"></p>
      `;
      container.appendChild(section);
    }

    function updateAll() {
      const leconUrl = document.getElementById('selectLecon').value;
      const leconLabel = leconUrl ? '<strong>Plan de leçon :</strong> <a href="' + leconUrl + '" target="_blank">' + leconUrl + '</a><br><br>' : '';
      document.getElementById('lienLecon').innerHTML = leconUrl ? '<a href="' + leconUrl + '" target="_blank">' + leconUrl + '</a>' : '';

      let ateliers = '';
      for (let i = 1; i <= 5; i++) {
        const noms = document.getElementById('noms' + i).value;
        const lien = document.getElementById('exercice' + i).value;
        const label = 'Atelier ' + i + ' : ';
        document.getElementById('lienExercice' + i).innerHTML = lien ? '<a href="' + lien + '" target="_blank">' + lien + '</a>' : '';
        if (noms && lien) {
          ateliers += '<strong>' + label + noms + '</strong><br><a href="' + lien + '" target="_blank">' + lien + '</a><br><br>';
        }
      }

      const nomsGB = document.getElementById('nomsGB').value;
      const lienGB = document.getElementById('exerciceGB').value;
      document.getElementById('lienExerciceGB').innerHTML = lienGB ? '<a href="' + lienGB + '" target="_blank">' + lienGB + '</a>' : '';
      let gardien = '';
      if (nomsGB && lienGB) {
        gardien = '<strong>Gardiens de but : ' + nomsGB + '</strong><br><a href="' + lienGB + '" target="_blank">' + lienGB + '</a><br><br>';
      }

      let msg = '<p>Bonjour à tous,</p>';
      msg += '<p>Voici les informations pour la prochaine séance sur glace :</p>';
      msg += leconLabel;
      msg += ateliers;
      msg += gardien;
      msg += '<p>Merci de prendre connaissance de vos responsabilités avant la séance.</p>';

      document.getElementById('zoneMessage').innerHTML = msg;
    }
  </script>
</body>
</html>
