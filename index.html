<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Créer ma leçon MAHG</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    label { font-weight: bold; display: block; margin-top: 20px; }
    select, input[type="text"] { width: 100%; margin-bottom: 5px; }
    #zoneMessage { border: 1px solid #ccc; padding: 15px; margin-top: 30px; background: #f9f9f9; }
  </style>
</head>
<body>

  <h1>Créer ma leçon MAHG</h1>

  <label>Choisir une leçon</label>
  <select id="selectLecon" onchange="updateAll()">
    <option value="">Sélectionner une leçon</option>
    <option value="https://www.exemple.com/plan1">Plan EM - Leçon 1</option>
    <option value="https://www.exemple.com/plan2">Plan EM - Leçon 2</option>
  </select>
  <p id="lienLecon"></p>

  <!-- Ateliers 1 à 5 -->
  <div id="ateliers">
    <label>Atelier 1 – Noms des entraîneurs</label>
    <input type="text" id="noms1" oninput="updateAll()">
    <select id="exercice1" onchange="updateAll()">
      <option value="">Sélectionner un exercice</option>
      <option value="https://www.exemple.com/ex1">#1 - Slalom rapide</option>
      <option value="https://www.exemple.com/ex2">#2 - Tire et suit</option>
    </select>
    <p id="lienExercice1"></p>

    <label>Atelier 2 – Noms des entraîneurs</label>
    <input type="text" id="noms2" oninput="updateAll()">
    <select id="exercice2" onchange="updateAll()">
      <option value="">Sélectionner un exercice</option>
      <option value="https://www.exemple.com/ex3">#3 - Contrôle rondelle</option>
    </select>
    <p id="lienExercice2"></p>

    <label>Atelier 3 – Noms des entraîneurs</label>
    <input type="text" id="noms3" oninput="updateAll()">
    <select id="exercice3" onchange="updateAll()">
      <option value="">Sélectionner un exercice</option>
    </select>
    <p id="lienExercice3"></p>

    <label>Atelier 4 – Noms des entraîneurs</label>
    <input type="text" id="noms4" oninput="updateAll()">
    <select id="exercice4" onchange="updateAll()">
      <option value="">Sélectionner un exercice</option>
    </select>
    <p id="lienExercice4"></p>

    <label>Atelier 5 – Noms des entraîneurs</label>
    <input type="text" id="noms5" oninput="updateAll()">
    <select id="exercice5" onchange="updateAll()">
      <option value="">Sélectionner un exercice</option>
    </select>
    <p id="lienExercice5"></p>
  </div>

  <!-- Section gardiens -->
  <label>Gardiens de but – Noms des entraîneurs</label>
  <input type="text" id="nomsGB" oninput="updateAll()">
  <select id="exerciceGB" onchange="updateAll()">
    <option value="">Sélectionner un exercice</option>
    <option value="https://www.exemple.com/gb1">GB - Réaction rapide</option>
  </select>
  <p id="lienExerciceGB"></p>

  <!-- Message généré -->
  <div id="zoneMessage"></div>

  <script>
    function updateAll() {
      const leconUrl = document.getElementById('selectLecon').value;
      const leconLabel = leconUrl ? '<strong>Plan de leçon :</strong> <a href="' + leconUrl + '" target="_blank">' + leconUrl + '</a><br><br>' : '';
      document.getElementById('lienLecon').innerHTML = leconUrl ? '<a href="' + leconUrl + '" target="_blank">' + leconUrl + '</a>' : '';

      let ateliers = '';
      for (let i = 1; i <= 5; i++) {
        const noms = document.getElementById('noms' + i).value;
        const lien = document.getElementById('exercice' + i).value;
        const label = 'Atelier ' + i + ' : ';
        document.getElementById('lienExercice' + i).innerHTML = lien ? '<a href="' + lien + '" target="_blank">' + lien + '</a>' : '';
        if (noms && lien) {
          ateliers += '<strong>' + label + noms + '</strong><br><a href="' + lien + '" target="_blank">' + lien + '</a><br><br>';
        }
      }

      const nomsGB = document.getElementById('nomsGB').value;
      const lienGB = document.getElementById('exerciceGB').value;
      document.getElementById('lienExerciceGB').innerHTML = lienGB ? '<a href="' + lienGB + '" target="_blank">' + lienGB + '</a>' : '';
      let gardien = '';
      if (nomsGB && lienGB) {
        gardien = '<strong>Gardiens de but : ' + nomsGB + '</strong><br><a href="' + lienGB + '" target="_blank">' + lienGB + '</a><br><br>';
      }

      let msg = '<p>Bonjour à tous,</p>';
      msg += '<p>Voici les informations pour la prochaine séance sur glace :</p>';
      msg += leconLabel;
      msg += ateliers;
      msg += gardien;
      msg += '<p>Merci de prendre connaissance de vos responsabilités avant la séance.</p>';

      document.getElementById('zoneMessage').innerHTML = msg;
    }
  </script>
</body>
</html>
